source('loading.R')

scythe <- load_result_squares('scythe_4') %>% filter(benchmark != 'kaggle')
patsql <- load_result_squares('patsql_6') %>% filter(benchmark != 'kaggle')
squares <- load_result_squares('squares_3') %>%
  filter(benchmark != 'kaggle') %>%
  semi_join(scythe, by = 'name')


#single <- load_result_file('single')
#single_np <- load_result_file('single_np')
#bitenum <- load_result_file('bitenum')
#bitenum_nobit <- load_result_file('bitenum_nobit')
#bitenum_nosub <- load_result_file('bitenum_nosub')
#bitenum_nofd <- load_result_file('bitenum_nofd')

#sequential1 <- load_result_file('sequential')
# sequential <- load_result_file('sequential_2')
# sequential_3 <- load_result_file('sequential_3')
# sequential <- load_result_file('sequential_semantics')
# sequential_top5 <- load_result_file('sequential_sem_top_5_2')
# sequential_subsume <- load_result_file('sequential_subsume')
# sequential_no_qffd <- load_result_file('sequential_no_qffd')
# sequential_simple_dsl <- load_result_file('sequential_simple_dsl')
# sequential_no_bitvec <- load_result_file('sequential_no_bitvec')

ratsql <- load_fuzzy_results('ratsql')
smbop <- load_fuzzy_results('smbop')

# db2csv_1 <- load_result_file('db2csv_dev_basic_1')
# db2csv_2 <- load_result_file('db2csv_dev_basic_2')
# db2csv_3 <- load_result_file('db2csv_dev_basic_3')
# db2csv_4 <- load_result_file('db2csv_dev_basic_4')
# db2csv_5 <- load_result_file('db2csv_dev_basic_5')
# db2csv_6 <- load_result_file('db2csv_dev_basic_6')
# db2csv_7 <- load_result_file('db2csv_dev_basic_7')
# db2csv_8 <- load_result_file('db2csv_dev_basic_8')
# db2csv_9 <- load_result_file('db2csv_dev_basic_9')
# db2csv_10 <- load_result_file('db2csv_dev_basic_10')
# db2csv_2_c20 <- load_result_file('db2csv_dev_basic_2_c20')
# db2csv_3_c20 <- load_result_file('db2csv_dev_basic_3_c20')
# db2csv_9_c20 <- load_result_file('db2csv_dev_basic_9_c20')
# db2csv_beam_1 <- load_result_file('db2csv_dev_beam_1')
# db2csv_beam_2 <- load_result_file('db2csv_dev_beam_2')
# db2csv_beam_3 <- load_result_file('db2csv_dev_beam_3')
# db2csv_beam_10 <- load_result_file('db2csv_dev_beam_10')
# db2csv_beam_11 <- load_result_file('db2csv_dev_beam_11')
# db2csv_beam_12_p51 <- load_result_file('db2csv_dev_beam_12_p51')
# db2csv_beam_12_p75 <- load_result_file('db2csv_dev_beam_12')
# db2csv_beam_12_p9 <- load_result_file('db2csv_dev_beam_12_p9')
# db2csv_beam_12_p9_max_filter1 <- load_result_file('db2csv_dev_beam_12_p9_max_filter-1')
# db2csv_beam_12_p9_max_join1 <- load_result_file('db2csv_dev_beam_12_p9_max_join-1')
# db2csv_beam_12_p9_no_antijoin <- load_result_file('db2csv_dev_beam_12_p9_no_anti-join')
# db2csv_beam_12_p9_no_crossjoin <- load_result_file('db2csv_dev_beam_12_p9_no_cross-join')
# db2csv_beam_12_p9_no_leftjoin <- load_result_file('db2csv_dev_beam_12_p9_no_left-join')
# db2csv_beam_12_p9_no_mutate <- load_result_file('db2csv_dev_beam_12_p9_no_mutate')
# db2csv_beam_12_p9_no_naturaljoin4 <- load_result_file('db2csv_dev_beam_12_p9_no_natural-join4')
# db2csv_beam_12_p9_no_semijoin <- load_result_file('db2csv_dev_beam_12_p9_no_semi-join')
# db2csv_beam_12_p9_no_union <- load_result_file('db2csv_dev_beam_12_p9_no_union')
# db2csv_beam_12_p9_no_intersect <- load_result_file('db2csv_dev_beam_12_p9_no_intersect')
# db2csv_beam_12_p9_combo <- load_result_file('db2csv_dev_beam_12_p9_max_filter1_no_naturaljoin4_leftjoin_crossjoin')
# db2csv_beam_13_combo <- load_result_file('db2csv_dev_beam_13_p9_max_filter1_no_naturaljoin4_leftjoin_crossjoin')
# db2csv_beam_15_combo <- load_result_file('db2csv_dev_beam_15_combo')
#   db2csv_beam_16_combo <- load_result_file('db2csv_dev_beam_16_combo')
# db2csv_beam_2_c20 <- load_result_file('db2csv_dev_beam_2_c20')
# db2csv_beam_3_c20 <- load_result_file('db2csv_dev_beam_3_c20')
# db2csv_beam_12_p9_combo_c20 <- load_result_file('db2csv_dev_beam_12_p9_max_filter1_no_naturaljoin4_leftjoin_crossjoin_c20')
# db2csv_beam_12_combo_c20 <- load_result_file('db2csv_dev_beam_12_p9_max_filter1_no_naturaljoin4_leftjoin_crossjoin_c20_no_split')
# db2csv_beam_14_combo_c20 <- load_result_file('db2csv_dev_beam_14_combo_c20')
# db2csv_ratsql_17_combo_c20 <- load_result_file('db2csv_beam_ratsql_17_c20')
# db2csv_ratsql_17_combo_c20_all300 <- load_result_file('db2csv_beam_ratsql_17_c20_all300')
# db2csv_smbop_17_combo_c20 <- load_result_file('db2csv_beam_smbop_17_c20')
#   db2csv_smbop_17_combo_c20_all300 <- load_result_file('db2csv_beam_smbop_17_c20_all300')
#   db2csv_smbop_18_combo_c20_all300 <- load_result_file('db2csv_beam_smbop_18_c20_all300')
#   db2csv_smbop_20_combo_c20_all300 <- load_result_file('db2csv_beam_smbop_20_c20_all300')
db2csv_smbop_21_combo_c20_all300 <- load_result_file('db2csv_beam_smbop_21_c20_all300')
db2csv_ratsql_21_combo_c20_all300 <- load_result_file('db2csv_beam_ratsql_21_c20_all300')
db2csv_nobeam_21_combo_c20_all300 <- load_result_file('db2csv_no_beam_21_c20_all300')

mutate_smbop <- load_fuzzy_results('test_2_smbop')
mutate_ratsql <- load_fuzzy_results('test_2')

# db2csv_beam_no_conserv <- load_result_file('db2csv_dev_beam_1_no_conserv')

s62 <- load_result_file('s62') %>% semi_join(scythe, by = 'name')

# c50_4 <- load_result_file('c50_4')
# c50_8 <- load_result_file('c50_8')
#c50_16_1 <- load_result_file('c50_16')
#   c50_16 <- load_result_file('c50_16_2')
# c51_16 <- load_result_file('c51_16')
# c52_16 <- load_result_file('c52_16_2')
# c52_16_all600 <- load_result_file('c52_16')
# c53_16 <- load_result_file('c53_16')
# c53_16_all600 <- load_result_file('c53_16_all600')
# c54_16 <- load_result_file('c54_16')
# c55_16 <- load_result_file('c55_16')
# c56_16 <- load_result_file('c56_16')
# c57_16 <- load_result_file('c57_16')
# c57_16_no_cache <- load_result_file('c57_16_no-cache')
# c58_16 <- load_result_file('c58_16')
# c59_16 <- load_result_file('c59_16')
#   c59_16_all600 <- load_result_file('c59_16_all600')
#   c60_16 <- load_result_file('c60_16')
#   c61_16 <- load_result_file('c61_16')
#   c62_16 <- load_result_file('c62_16')
c62_4_full <- load_result_file('c62_4_full') %>% semi_join(scythe, by = 'name')
c62_8_full <- load_result_file('c62_8_full') %>% semi_join(scythe, by = 'name')
c62_16_full <- load_result_file('c62_16_full') %>%
  filter(!str_detect(benchmark, 'db2csv')) %>%
  semi_join(scythe, by = 'name')
#   c62_16_full_static <- load_result_file('c62_16_full_static') %>% semi_join(scythe, by = 'name')
c62_16_full_no_split <- load_result_file('c62_16_full_no_split') %>% semi_join(scythe, by = 'name')
c62_16_full_no_bitvec <- load_result_file('c62_16_full_no_bitvec') %>% semi_join(scythe, by = 'name')
c62_16_full_random <- load_result_file('c62_16_full_random') %>% semi_join(scythe, by = 'name')
#   c62_16_n10 <- load_result_file_median('c62_16_n10')
c62_16_all600 <- load_result_file('c62_16_all600')
c62_16_all600_dis <- load_result_file('c62_16_all600', dis_fuzz = T)
c62_16_all600_dis_simple <- read_csv('fuzzy/c62_16_all600_dis.csv') %>% mutate(status = as.character(status))
# c50_16_top5 <- load_result_file('c50_16_top5')
# c50_16_optimal <- load_result_file('c50_16_optimal')
# c50_16_optimal <- load_result_file('c50_16_optimal_2')
# c50_16_static <- load_result_file('c50_16_static')
# c50_16_no_dedu <- load_result_file('c50_16_no_dedu')
# c50_16_no_split <- load_result_file('c50_16_no_split')

# determ <- load_result_file_median('determinism')
# determ2 <- load_result_file_median('determinism_2')

# determ5 <- load_result_file('determinism_5')
# determ5 <- load_result_file_median('determinism_5')

squares_500 <- semi_join(squares, c62_16_full, by = 'name')
scythe_500 <- semi_join(scythe, c62_16_full, by = 'name')
patsql_500 <- semi_join(patsql, c62_16_full, by = 'name')
